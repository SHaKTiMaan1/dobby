<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <p>CHECK CONSOLE ALSO</p>
    <label for="fname">THIS DONT WORK NOW:</label>
    <input type="text" id="search" name="search" /><br /><br />

    <iframe
      src="https://en.wikipedia.org/wiki/Manuscript"
      title="W3Schools Free Online Web Tutorials"
      width="100%"
    ></iframe>

    <section class="searchResults">
      <p>Here will be the searched terms</p>
    </section>

    <script>
      // var url = "https://en.wikipedia.org/w/api.php";

      // url = url + "?origin=*";   -----> THIS IS FOR REMOVING CORS ERROR
      // Object.keys(params).forEach(function (key) { url += "&" + key + "=" + params[key]; });

      //U CAN CHANGE THIS FOR SEARCHING ANOTHER WORD
      searchedTerm = "India";

      fetch(
        `https://en.wikipedia.org/w/api.php?action=query&titles=${searchedTerm}&origin=*&prop=extracts&format=json`
      )
        .then(function (response) {
          return response.json();
        })
        .then(function (response) {
          // console.log("Your search page 'Nelson Mandela' exists on English Wikipedia");
          var endd = response.query.pages;
          // var stringg = JSON.stringify(endd);
          // Object.keys(obj)[0]
          console.log(endd[Object.keys(endd)[0]].extract);

          const searchResults = document.querySelector(".searchResults");
          searchResults.innerHTML = endd[Object.keys(endd)[0]].extract;
        })
        .catch(function (error) {
          console.log(error);
        });
    </script>
  </body>
</html>
